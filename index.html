<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice Scorer</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Subjective evaluation for VC audios</h1>
       <p>"Hello! Thank you for taking the time to help score the audio results of my VC system.</p> 
        
    </header>
    <main>
        <section id="instructions">
            <h2>Instructions for Marking Audio Samples</h2>
            
            <p><strong>General Guidelines:</strong></p>
            
            <ul>
            <li>Use high-quality headphones or speakers for listening to the audio samples to ensure accurate evaluation.</li>
            <li>Make sure you are in a quiet environment to avoid any background noise interference.</li>
            <li>Take breaks between listening sessions to avoid fatigue, which can affect your judgment.</li>
            <li>Be honest and objective in your evaluations to provide meaningful and accurate feedback.</li>
            </ul>

            <h3>Mean Opinion Score (MOS) Test</h3>
            <p><strong>Purpose:</strong> To evaluate the overall naturalness of the audio samples.</p>
            <p><strong>Instructions:</strong></p>
            <ul>
                <li>Listen to each audio sample carefully.</li>
                <li>Rate each sample on a scale of 1 to 5, where:</li>
                <ul>
                    <li>1: Bad</li>
                    <li>2: Poor</li>
                    <li>3: Fair</li>
                    <li>4: Good</li>
                    <li>5: Excellent</li>
                </ul>
                <li>Consider factors such as clarity, naturalness, and overall audio quality when assigning your score.</li>
            </ul>
            <p><strong>Scoring:</strong> Record your score for each audio sample in the provided scoring sheet.</p>
            <h3>Speaker Similarity (SIM) Test</h3>
            <p><strong>Purpose:</strong> To evaluate the overall quality of the audio samples.</p>
            <p><strong>Instructions:</strong></p>
            <ul>
                <li>Rate how similar the converted speaker sounds to the original speaker on a scale from 1 to 5:</li>
                <ul>
                    <li>1: Not similar at all</li>
                    <li>2: Slightly similar</li>
                    <li>3: Moderately similar</li>
                    <li>4: Very similar</li>
                    <li>5: Extremely similar</li>
                  </ul>
                <li> Focus on the speaker's voice identity rather than content or background noise.</li>
            </ul>
        
        <section id="download">
            <h2>Download Spreadsheet for Scoring</h2>
            <p>Please download the spreadsheet for scoring <a href="https://tksavy.github.io/Subjective_test/score_sheet.xlsx" download>here</a>.</p>
        </section>

        </section>
        <section id="audio-files">
             <h2>Audio Files</h2>
            <table>
                <thead>
                    <tr>
                        <th>Index</th>
                        <th>Source</th>
                        <th>Reference</th>
                        <th>kNN-VC</th>
                        <th>FreeVC</th>
                        <th>Proposed</th>
                    </tr>
                </thead>
                <tbody id="audio-tbody">
                    <!-- Audio rows will be inserted here by JavaScript -->
                </tbody>
            </table>
        </section>
        <section id="thank-you">
            <h2>Thank You!</h2>
            <p>We deeply appreciate your time and effort in evaluating these audio files. Your support is invaluable to our research and development efforts.</p>            
        </section>
    </main>
    <footer> 
        <p>&copy; 2024 Voice Scorer. All rights reserved.</p>
    </footer> 
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const audioFiles = {
                src: ["VCC2SM1_30030.wav", "VCC2SM4_30016.wav", "VCC2SM4_30001.wav", "VCC2SM3_30010.wav", "VCC2SM2_30002.wav", "VCC2SM1_30027.wav", "VCC2SM2_30031.wav", "VCC2SM4_30025.wav", "VCC2SM4_30003.wav", "VCC2SM3_30001.wav", "VCC2SM3_30020.wav", "VCC2SM4_30005.wav", "VCC2SM1_30004.wav", "VCC2SM2_30028.wav", "VCC2SM1_30020.wav", "VCC2SM2_30009.wav", "VCC2SF2_30008.wav", "VCC2SF3_30008.wav", "VCC2SF4_30012.wav", "VCC2SF3_30024.wav", "VCC2SF4_30017.wav", "VCC2SF3_30017.wav", "VCC2SF4_30013.wav", "VCC2SF4_30007.wav", "VCC2SF3_30030.wav", "VCC2SF3_30007.wav", "VCC2SF4_30021.wav", "VCC2SF4_30010.wav", "VCC2SF1_30023.wav", "VCC2SF2_30010.wav", "VCC2SF4_30006.wav", "VCC2SF3_30032.wav"], // List all files in audio_source folder
                tgt: ["VCC2SM3_30010.wav", "VCC2SM1_30016.wav", "VCC2SM3_30032.wav", "VCC2SM1_30030.wav", "VCC2SM1_30008.wav", "VCC2SM3_30025.wav", "VCC2SM3_30026.wav", "VCC2SM2_30017.wav", "VCC2SF1_30020.wav", "VCC2SF1_30022.wav", "VCC2SF1_30012.wav", "VCC2SF4_30001.wav", "VCC2SF3_30026.wav", "VCC2SF1_30014.wav", "VCC2SF2_30015.wav", "VCC2SF3_30004.wav", "VCC2SM3_30011.wav", "VCC2SM3_30029.wav", "VCC2SM1_30026.wav", "VCC2SM1_30029.wav", "VCC2SM2_30033.wav", "VCC2SM4_30022.wav", "VCC2SM4_30027.wav", "VCC2SM1_30022.wav", "VCC2SF2_30034.wav", "VCC2SF4_30011.wav", "VCC2SF3_30014.wav", "VCC2SF3_30021.wav", "VCC2SF3_30013.wav", "VCC2SF3_30034.wav", "VCC2SF1_30029.wav", "VCC2SF1_30024.wav"], // List all files in audio_target folder
                knnph: ["VCC2SM1_30030__VCC2SM3_30010.wav", "VCC2SM4_30016__VCC2SM1_30016.wav", "VCC2SM4_30001__VCC2SM3_30032.wav", "VCC2SM3_30010__VCC2SM1_30030.wav", "VCC2SM2_30002__VCC2SM1_30008.wav", "VCC2SM1_30027__VCC2SM3_30025.wav", "VCC2SM2_30031__VCC2SM3_30026.wav", "VCC2SM4_30025__VCC2SM2_30017.wav", "VCC2SM4_30003__VCC2SF1_30020.wav", "VCC2SM3_30001__VCC2SF1_30022.wav", "VCC2SM3_30020__VCC2SF1_30012.wav", "VCC2SM4_30005__VCC2SF4_30001.wav", "VCC2SM1_30004__VCC2SF3_30026.wav", "VCC2SM2_30028__VCC2SF1_30014.wav", "VCC2SM1_30020__VCC2SF2_30015.wav", "VCC2SM2_30009__VCC2SF3_30004.wav", "VCC2SF2_30008__VCC2SM3_30011.wav", "VCC2SF3_30008__VCC2SM3_30029.wav", "VCC2SF4_30012__VCC2SM1_30026.wav", "VCC2SF3_30024__VCC2SM1_30029.wav", "VCC2SF4_30017__VCC2SM2_30033.wav", "VCC2SF3_30017__VCC2SM4_30022.wav", "VCC2SF4_30013__VCC2SM4_30027.wav", "VCC2SF4_30007__VCC2SM1_30022.wav", "VCC2SF3_30030__VCC2SF2_30034.wav", "VCC2SF3_30007__VCC2SF4_30011.wav", "VCC2SF4_30021__VCC2SF3_30014.wav", "VCC2SF4_30010__VCC2SF3_30021.wav", "VCC2SF1_30023__VCC2SF3_30013.wav", "VCC2SF2_30010__VCC2SF3_30034.wav", "VCC2SF4_30006__VCC2SF1_30029.wav", "VCC2SF3_30032__VCC2SF1_30024.wav"], // List all files in sota1 folder
                freevc: ["VCC2SM1_30030__VCC2SM3_30010.wav", "VCC2SM4_30016__VCC2SM1_30016.wav", "VCC2SM4_30001__VCC2SM3_30032.wav", "VCC2SM3_30010__VCC2SM1_30030.wav", "VCC2SM2_30002__VCC2SM1_30008.wav", "VCC2SM1_30027__VCC2SM3_30025.wav", "VCC2SM2_30031__VCC2SM3_30026.wav", "VCC2SM4_30025__VCC2SM2_30017.wav", "VCC2SM4_30003__VCC2SF1_30020.wav", "VCC2SM3_30001__VCC2SF1_30022.wav", "VCC2SM3_30020__VCC2SF1_30012.wav", "VCC2SM4_30005__VCC2SF4_30001.wav", "VCC2SM1_30004__VCC2SF3_30026.wav", "VCC2SM2_30028__VCC2SF1_30014.wav", "VCC2SM1_30020__VCC2SF2_30015.wav", "VCC2SM2_30009__VCC2SF3_30004.wav", "VCC2SF2_30008__VCC2SM3_30011.wav", "VCC2SF3_30008__VCC2SM3_30029.wav", "VCC2SF4_30012__VCC2SM1_30026.wav", "VCC2SF3_30024__VCC2SM1_30029.wav", "VCC2SF4_30017__VCC2SM2_30033.wav", "VCC2SF3_30017__VCC2SM4_30022.wav", "VCC2SF4_30013__VCC2SM4_30027.wav", "VCC2SF4_30007__VCC2SM1_30022.wav", "VCC2SF3_30030__VCC2SF2_30034.wav", "VCC2SF3_30007__VCC2SF4_30011.wav", "VCC2SF4_30021__VCC2SF3_30014.wav", "VCC2SF4_30010__VCC2SF3_30021.wav", "VCC2SF1_30023__VCC2SF3_30013.wav", "VCC2SF2_30010__VCC2SF3_30034.wav", "VCC2SF4_30006__VCC2SF1_30029.wav", "VCC2SF3_30032__VCC2SF1_30024.wav"], // List all files in sota2 folder
                ours: ["VCC2SM1_30030__VCC2SM3_30010.wav", "VCC2SM4_30016__VCC2SM1_30016.wav", "VCC2SM4_30001__VCC2SM3_30032.wav", "VCC2SM3_30010__VCC2SM1_30030.wav", "VCC2SM2_30002__VCC2SM1_30008.wav", "VCC2SM1_30027__VCC2SM3_30025.wav", "VCC2SM2_30031__VCC2SM3_30026.wav", "VCC2SM4_30025__VCC2SM2_30017.wav", "VCC2SM4_30003__VCC2SF1_30020.wav", "VCC2SM3_30001__VCC2SF1_30022.wav", "VCC2SM3_30020__VCC2SF1_30012.wav", "VCC2SM4_30005__VCC2SF4_30001.wav", "VCC2SM1_30004__VCC2SF3_30026.wav", "VCC2SM2_30028__VCC2SF1_30014.wav", "VCC2SM1_30020__VCC2SF2_30015.wav", "VCC2SM2_30009__VCC2SF3_30004.wav", "VCC2SF2_30008__VCC2SM3_30011.wav", "VCC2SF3_30008__VCC2SM3_30029.wav", "VCC2SF4_30012__VCC2SM1_30026.wav", "VCC2SF3_30024__VCC2SM1_30029.wav", "VCC2SF4_30017__VCC2SM2_30033.wav", "VCC2SF3_30017__VCC2SM4_30022.wav", "VCC2SF4_30013__VCC2SM4_30027.wav", "VCC2SF4_30007__VCC2SM1_30022.wav", "VCC2SF3_30030__VCC2SF2_30034.wav", "VCC2SF3_30007__VCC2SF4_30011.wav", "VCC2SF4_30021__VCC2SF3_30014.wav", "VCC2SF4_30010__VCC2SF3_30021.wav", "VCC2SF1_30023__VCC2SF3_30013.wav", "VCC2SF2_30010__VCC2SF3_30034.wav", "VCC2SF4_30006__VCC2SF1_30029.wav", "VCC2SF3_30032__VCC2SF1_30024.wav"] // List all files in sota3 folder
            };

             // Get the maximum number of files
            const maxFiles = Math.max(...Object.values(audioFiles).map(files => files.length));

            // Populate the table with index and audio files
            const tbody = document.getElementById('audio-tbody');
            for (let i = 0; i < maxFiles; i++) {
                const row = document.createElement('tr');

                // Add index
                const indexCell = document.createElement('td');
                indexCell.textContent = (i + 1).toString();
                indexCell.style.textAlign = 'center';
                row.appendChild(indexCell);

                // Add audio files
                Object.keys(audioFiles).forEach(folder => {
                    const cell = document.createElement('td');
                    const file = audioFiles[folder][i];
                    if (file) {
                        const filePath = `Audios/${folder}/${file}`;
                        const audioContainer = document.createElement('div');
                        audioContainer.className = 'audio-container'; 
                        const audio = document.createElement('audio');
                        
                        audio.controls = true;
                        const source = document.createElement('source');
                        source.src = filePath;
                        source.type = 'audio/wav';
                        audio.appendChild(source);
                        const audioName = document.createElement('p');
                        audioName.textContent = file;
                        audioName.style.fontSize = 'small';
                        audioName.style.width = '100%'; // Ensure the width matches the audio element
                        audioName.className = 'audio-name'; // Added class for consistent width
                        audioContainer.appendChild(audio);
                        audioContainer.appendChild(audioName);
                        cell.appendChild(audioContainer);

                        // Add error handling to check if audio file loads correctly
                        audio.addEventListener('error', () => {
                            const errorText = document.createElement('p');
                            errorText.textContent = `Error loading ${filePath}`;
                            errorText.style.color = 'red';
                            cell.appendChild(errorText);
                        });

                        // Debugging: Log the file path to the console
                        console.log(`Loading file: ${filePath}`);
                    }
                    row.appendChild(cell);
                });

                tbody.appendChild(row);
            }
        });
    </script>
</body>
</html>
